document.addEventListener("DOMContentLoaded",function(){document.getElementById("photo");let e=document.getElementById("photo-container");e.addEventListener("click",function(t){let n=e.getBoundingClientRect(),o=t.clientX-n.left,i=t.clientY-n.top,l=o/n.width,d=i/n.height;fetch("",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRFToken":getCookie("csrftoken")},body:`x=${l}&y=${d}`}).then(e=>e.json()).then(t=>{if("ok"===t.status){let n=document.createElement("div");n.className="pin",n.style.left=`${100*l}%`,n.style.top=`${100*d}%`,e.appendChild(n)}})})});function getCookie(e){let t=null;if(document.cookie&&""!==document.cookie){let n=document.cookie.split(";");for(let o=0;o<n.length;o++){let i=n[o].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}}return t}