{% extends 'base.html' %}

{% block title %}Gestion des Présences{% endblock %}


{% block content %}
<main>
    <div class="container d-flex flex-column align-items-center justify-content-center mt-5">
        <div class="attendance p-4 mb-4 text-center bg-dark text-white rounded shadow">
            <h2>Marquer la présence</h2>
            <button id="present" class="btn btn-success mx-2">Présent</button>
            <button id="absent" class="btn btn-danger mx-2">Absent</button>
            <button id="late" class="btn btn-warning mx-2">En retard</button>
        </div>
        <div class="stats p-4 text-center bg-dark text-white rounded shadow">
            <h2>Statistiques des absences</h2>
            <p>Présents : <span id="present-count">0</span></p>
            <p>Absents : <span id="absent-count">0</span></p>
            <p>En retard : <span id="late-count">0</span></p>
        </div>
    </div>
</main>
{% endblock %}

{% block extra_js %}
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    const presentButton = document.getElementById('present');
    const absentButton = document.getElementById('absent');
    const lateButton = document.getElementById('late');

    const presentCount = document.getElementById('present-count');
    const absentCount = document.getElementById('absent-count');
    const lateCount = document.getElementById('late-count');

    let present = 0;
    let absent = 0;
    let late = 0;

    presentButton.addEventListener('click', () => {
        present++;
        presentCount.textContent = present;
    });

    absentButton.addEventListener('click', () => {
        absent++;
        absentCount.textContent = absent;
    });

    lateButton.addEventListener('click', () => {
        late++;
        lateCount.textContent = late;
    });

    // Sidenav script
    const sidenav = document.getElementById("mySidenav");
    const openBtn = document.getElementById("openBtn");
    const closeBtn = document.getElementById("closeBtn");

    openBtn.onclick = function() {
        sidenav.classList.add("active");
    }

    closeBtn.onclick = function() {
        sidenav.classList.remove("active");
    }
</script>
{% endblock %}
